
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>People List Starter App Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-toggle-chapters/toggle.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="PeopleListEjsCodeAlong.html" />
    
    
    <link rel="prev" href="StudentDesc.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../ReplSetup.html">
            
                <a href="../ReplSetup.html">
            
                    
                    Repl.it Setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../FullStackOverview/StudentDesc.html">
            
                <a href="../FullStackOverview/StudentDesc.html">
            
                    
                    L1 - Full-stack Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../TemplateLiterals/StudentDesc.html">
            
                <a href="../TemplateLiterals/StudentDesc.html">
            
                    
                    L2 - Template Literals
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../TemplateLiterals/DriversLicenseCodeAlong.html">
            
                <a href="../TemplateLiterals/DriversLicenseCodeAlong.html">
            
                    
                    Driver's License Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../TemplateLiterals/DriversLicenseIndividualExercises.html">
            
                <a href="../TemplateLiterals/DriversLicenseIndividualExercises.html">
            
                    
                    Driver's License Individual Exercises
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../JavaScriptFunctions/StudentDesc.html">
            
                <a href="../JavaScriptFunctions/StudentDesc.html">
            
                    
                    L3 - JavaScript Functions (Callbacks)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../JavaScriptFunctions/CallbacksCodeAlong.html">
            
                <a href="../JavaScriptFunctions/CallbacksCodeAlong.html">
            
                    
                    Callbacks Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../JavaScriptFunctions/CallbacksIndividualExercises.html">
            
                <a href="../JavaScriptFunctions/CallbacksIndividualExercises.html">
            
                    
                    Callbacks Individual Exercises
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../JavaScriptFunctions/FileReaderChallenge.html">
            
                <a href="../JavaScriptFunctions/FileReaderChallenge.html">
            
                    
                    File Reader Challenge
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../JavaScriptObjects/StudentDesc.html">
            
                <a href="../JavaScriptObjects/StudentDesc.html">
            
                    
                    L4 - JavaScript Objects / JSON
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../JavaScriptObjects/ObjectsCodeAlong.html">
            
                <a href="../JavaScriptObjects/ObjectsCodeAlong.html">
            
                    
                    Objects Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../JavaScriptObjects/ObjectsIndividualExercises.html">
            
                <a href="../JavaScriptObjects/ObjectsIndividualExercises.html">
            
                    
                    Objects Individual Exercises
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../JavaScriptObjects/FoodJsonChallenges.html">
            
                <a href="../JavaScriptObjects/FoodJsonChallenges.html">
            
                    
                    Food JSON Challenges
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../HttpOverview/StudentDesc.html">
            
                <a href="../HttpOverview/StudentDesc.html">
            
                    
                    L5 - HTTP Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../SimpleNodeWebServer/StudentDesc.html">
            
                <a href="../SimpleNodeWebServer/StudentDesc.html">
            
                    
                    L6 - Simple Node Web Server
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../SimpleNodeWebServer/SimpleServerCodeAlong.html">
            
                <a href="../SimpleNodeWebServer/SimpleServerCodeAlong.html">
            
                    
                    Simple Server Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../SimpleNodeWebServer/SimpleServerIndividualExercises.html">
            
                <a href="../SimpleNodeWebServer/SimpleServerIndividualExercises.html">
            
                    
                    Simple Server Individual Exercises
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../ExpressProjects/StudentDesc.html">
            
                <a href="../ExpressProjects/StudentDesc.html">
            
                    
                    L7 - Express
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../ExpressProjects/ExpressProjectCodeAlong.html">
            
                <a href="../ExpressProjects/ExpressProjectCodeAlong.html">
            
                    
                    Express Server Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../ExpressProjects/ExpressProjectIndividualExercises.html">
            
                <a href="../ExpressProjects/ExpressProjectIndividualExercises.html">
            
                    
                    Express Server Individual Exercises
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../ExpressProjects/ExpressPostChallenge.html">
            
                <a href="../ExpressProjects/ExpressPostChallenge.html">
            
                    
                    Express POST Challenge
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="StudentDesc.html">
            
                <a href="StudentDesc.html">
            
                    
                    L8 - Creating Page Templates (EJS)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.10.1" data-path="PeopleListStarterApp.html">
            
                <a href="PeopleListStarterApp.html">
            
                    
                    People List Starter App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="PeopleListEjsCodeAlong.html">
            
                <a href="PeopleListEjsCodeAlong.html">
            
                    
                    People List EJS Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="PeopleListEjsIndividualExercises.html">
            
                <a href="PeopleListEjsIndividualExercises.html">
            
                    
                    People List EJS Individual Exercises
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../DatabasesReplit/StudentDesc.html">
            
                <a href="../DatabasesReplit/StudentDesc.html">
            
                    
                    L9 - Databases (Repl.it DB)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../FullCrudApp/CrudAppWalkthrough.html">
            
                <a href="../FullCrudApp/CrudAppWalkthrough.html">
            
                    
                    L10 - Building a CRUD App
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../FullCrudApp/CrudAppSetup.html">
            
                <a href="../FullCrudApp/CrudAppSetup.html">
            
                    
                    Setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../FullCrudApp/CrudAppSetupCode.html">
            
                <a href="../FullCrudApp/CrudAppSetupCode.html">
            
                    
                    Setup (Code)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../FullCrudApp/CrudAppRead.html">
            
                <a href="../FullCrudApp/CrudAppRead.html">
            
                    
                    Read
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../FullCrudApp/CrudAppReadTable.html">
            
                <a href="../FullCrudApp/CrudAppReadTable.html">
            
                    
                    Read (Table)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../FullCrudApp/CrudAppCreateGet.html">
            
                <a href="../FullCrudApp/CrudAppCreateGet.html">
            
                    
                    Create (GET)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="../FullCrudApp/CrudAppCreatePost.html">
            
                <a href="../FullCrudApp/CrudAppCreatePost.html">
            
                    
                    Create (POST)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.7" data-path="../FullCrudApp/CrudAppUpdateGet.html">
            
                <a href="../FullCrudApp/CrudAppUpdateGet.html">
            
                    
                    Update (GET)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.8" data-path="../FullCrudApp/CrudAppUpdatePost.html">
            
                <a href="../FullCrudApp/CrudAppUpdatePost.html">
            
                    
                    Update (POST)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.9" data-path="../FullCrudApp/CrudAppDelete.html">
            
                <a href="../FullCrudApp/CrudAppDelete.html">
            
                    
                    Delete
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../FinalProject/FinalProject.html">
            
                <a href="../FinalProject/FinalProject.html">
            
                    
                    Final Project
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >People List Starter App</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="people-list-starter-app">People List: Starter App</h1>
<p>Build an Express app to display a list of people, each with their own page containing more information about them. This will help illustrate the need for <strong>templates</strong>, because it will become increasingly tedious to create a page for each individual person. The data for the people is stored in a file named <strong>people.json</strong>.</p>
<h2 id="getting-started">Getting Started</h2>
<ol>
<li>Log into Repl.it</li>
<li>Open and fork the <a href="https://repl.it/@JosephMaxwell/PeopleListStarter" target="_blank">People List Starter Repl Project</a></li>
</ol>
<p>Nothing should happen yet. Follow the steps below to start building the server.</p>
<h2 id="a-basic-express-server">A Basic Express Server</h2>
<p>Open up the <strong>app.js</strong> file, and add the code for a simple web server.</p>
<ol>
<li>Import the <code>express</code> and <code>path</code> modules, storing them in <code>const</code> variables</li>
<li>Create <code>const</code> variables for the hostname (<code>&apos;0.0.0.0&apos;</code>) and port (<code>8080</code>)</li>
<li>Create a variable named <code>app</code>, set to <code>express()</code></li>
<li>Define a new function named <code>homePage</code> that has two parameters: <code>request</code> and <code>response</code></li>
<li>In the body of the <code>homePage</code> function, use <code>response.sendFile</code> to send <strong>home.html</strong><ul>
<li>Use <code>path.join</code> to get the absolute path for <strong>home.html</strong></li>
</ul>
</li>
<li>Under the function, call <code>app.get</code><ul>
<li>Pass in <code>&apos;/&apos;</code> and <code>homepage</code> to specify that requests to the root (<code>&apos;/&apos;</code>) should call the <code>homePage</code> callback</li>
</ul>
</li>
<li>Under that, define a function named <code>listenCallback</code></li>
<li>Add <code>console.log(&apos;Server Running&apos;)</code> to the body of <code>listenCallback</code></li>
<li>Finally, call <code>app.listen</code> and pass in <code>port</code>, <code>hostname</code>, and `listenCallback</li>
<li>Run the server and verify that the <strong>home.html</strong> document appears on the homepage!</li>
</ol>
<h3 id="code">Code</h3>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;express&apos;</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;path&apos;</span>);

<span class="hljs-keyword">const</span> hostname = <span class="hljs-string">&apos;0.0.0.0&apos;</span>;
<span class="hljs-keyword">const</span> port = <span class="hljs-number">8080</span>;

<span class="hljs-keyword">let</span> app = express();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">homePage</span>(<span class="hljs-params">request, response</span>) </span>{
    response.sendFile(path.join(__dirname, <span class="hljs-string">&apos;home.html&apos;</span>));
}

app.get(<span class="hljs-string">&apos;/&apos;</span>, homePage);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listenCallback</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Server Running&apos;</span>);
}

app.listen(port, hostname, listenCallback);
</code></pre>
<h2 id="creating-a-person-page">Creating a Person Page</h2>
<p>The people for this website should come from the <strong>people.json</strong> file. Note the data that appears for each person: First Name, Last Name, Avatar (image URL), Job, and Alive (boolean). The Person page should have a representation for all of this information.</p>
<h3 id="adding-the-html">Adding the HTML</h3>
<p>First, create a new file in the People List project folder named <strong>people0.html</strong>. Fill it with the following HTML:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
            <span class="hljs-selector-tag">body</span> {
                <span class="hljs-attribute">background</span>: mediumseagreen;
            }
        </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Person Information<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Name: Dorisa Wonfar<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Occupation: Media Manager I<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&apos;https://robohash.org/facilisvitaeprovident.png?size=50x50&amp;set=set1&apos;</span> /&gt;</span>        
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&apos;/&apos;</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>Note that this person is the first from the <strong>people.json</strong> array. In addition to adding <strong>people0.html</strong>, update the <strong>home.html</strong> file with a link. The link should be within an <code>li</code> element in the <code>ul</code> element, and should send the user to the <code>/person</code> page.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/person&quot;</span>&gt;</span>Dorisa Wonfar<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
</code></pre>
<h3 id="updating-the-javascript">Updating the JavaScript</h3>
<p>Next, update the JavaScript to serve the new page.</p>
<ol>
<li>In the <strong>app.js</strong> file, define a new function named <code>personPage</code> with two parameters: <code>request</code> and <code>response</code></li>
<li>In the body of the <code>personPage</code> function, use <code>response.sendFile</code> to send <strong>person0.html</strong><ul>
<li>Use <code>path.join</code> to get the absolute path for <strong>person0.html</strong></li>
</ul>
</li>
<li>Outside the function, call <code>app.get</code></li>
<li>Pass in arguments to specify that requests to the <code>/person</code> endpoint should call the <code>personPage</code> callback</li>
</ol>
<p>Run the server to make sure the page for Dorisa loads properly!</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personPage</span>(<span class="hljs-params">request, response</span>) </span>{
    <span class="hljs-keyword">let</span> personFile = personFile = <span class="hljs-string">&apos;person0.html&apos;</span>;
    <span class="hljs-keyword">let</span> personPath = path.join(__dirname, personFile);
    response.sendFile(personPath);
}

app.get(<span class="hljs-string">&apos;/person&apos;</span>, personPage);
</code></pre>
<h2 id="adding-multiple-people-with-a-query-parameter">Adding Multiple People with a Query Parameter</h2>
<p>One person is good, but the app would be much better if it could show multiple people. However, it would be ideal if all of these different people could be surfaced from the same endpoint (<code>/person</code>). It is possible to change the person information based on a query parameter!</p>
<ol>
<li>Create a new file in the People List project folder named <strong>person1.html</strong></li>
<li>Copy the HTML code from <strong>person0.html</strong> into <strong>person1.html</strong></li>
<li>Update <strong>person1.html</strong> so that it properly represents the second person from the <strong>people.json</strong> array<ul>
<li>The background color should be <code>red</code> because Tammy is dead &#x2639;</li>
</ul>
</li>
<li>At the top of the <strong>app.js</strong> file, import the <code>url</code> module, and store it in a <code>const</code><pre><code class="lang-js"> <span class="hljs-keyword">const</span> url = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;url&apos;</span>);
</code></pre>
</li>
<li>In the body of the <code>personPage</code> function, obtain the value of a query parameter <code>index</code> and store it in a variable:<pre><code class="lang-js"> <span class="hljs-keyword">let</span> parsedUrl = url.parse(request.url, <span class="hljs-literal">true</span>);
 <span class="hljs-keyword">let</span> index = <span class="hljs-built_in">Number</span>(parsedUrl.query.index);
</code></pre>
</li>
<li>Create an <code>if</code> statement to check if <code>index</code> is <code>0</code> or <code>NaN</code><ul>
<li>If it is, the server should respond to the request by sending <strong>person0.html</strong></li>
</ul>
</li>
<li>Use an <code>else if</code> to check if <code>index</code> is <code>1</code><ul>
<li>If it is, the server should respond to the request by sending <strong>person1.html</strong></li>
</ul>
</li>
<li>In the <strong>home.html</strong> file, add a link to this second person by setting the <code>href</code> to <code>/person?index=1</code>:<pre><code class="lang-html"> <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/person?index=1&quot;</span>&gt;</span>Tammy Dalgliesh<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
</code></pre>
</li>
<li>Run the server to make sure each link works properly!</li>
</ol>
<h3 id="code">Code</h3>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;express&apos;</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;path&apos;</span>);
<span class="hljs-keyword">const</span> url = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;url&apos;</span>);

<span class="hljs-keyword">const</span> hostname = <span class="hljs-string">&apos;0.0.0.0&apos;</span>;
<span class="hljs-keyword">const</span> port = <span class="hljs-number">8080</span>;

<span class="hljs-keyword">let</span> app = express();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">homePage</span>(<span class="hljs-params">request, response</span>) </span>{
    response.sendFile(path.join(__dirname, <span class="hljs-string">&apos;home.html&apos;</span>));
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personPage</span>(<span class="hljs-params">request, response</span>) </span>{
    <span class="hljs-keyword">let</span> personFile;
    <span class="hljs-keyword">let</span> parsedUrl = url.parse(request.url, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">let</span> index = <span class="hljs-built_in">Number</span>(parsedUrl.query.index);

    <span class="hljs-keyword">if</span> (index == <span class="hljs-number">0</span> || <span class="hljs-built_in">isNaN</span>(index)) {
        personFile = <span class="hljs-string">&apos;person0.html&apos;</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index == <span class="hljs-number">1</span>) {
        personFile = <span class="hljs-string">&apos;person1.html&apos;</span>;
    }

    <span class="hljs-keyword">let</span> personPath = path.join(__dirname, personFile);
    response.sendFile(personPath);
}

app.get(<span class="hljs-string">&apos;/&apos;</span>, homePage);
app.get(<span class="hljs-string">&apos;/person&apos;</span>, personPage);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listenCallback</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Server Running&apos;</span>);
}

app.listen(port, hostname, listenCallback);
</code></pre>
<h2 id="adding-more-people">Adding More People</h2>
<p>When this part is working, add another HTML page for the third person in the <strong>people.json</strong> array. Make sure to properly route to this new person&apos;s page based on the query parameter in the <code>personPage</code> function, and add a link on the <strong>home.html</strong> page. Add pages for as many of the people as possible!</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="StudentDesc.html" class="navigation navigation-prev " aria-label="Previous page: L8 - Creating Page Templates (EJS)">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="PeopleListEjsCodeAlong.html" class="navigation navigation-next " aria-label="Next page: People List EJS Code-Along">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"People List Starter App","level":"1.10.1","depth":2,"next":{"title":"People List EJS Code-Along","level":"1.10.2","depth":2,"path":"EjsTemplates/PeopleListEjsCodeAlong.md","ref":"EjsTemplates/PeopleListEjsCodeAlong.md","articles":[]},"previous":{"title":"L8 - Creating Page Templates (EJS)","level":"1.10","depth":1,"path":"EjsTemplates/StudentDesc.md","ref":"EjsTemplates/StudentDesc.md","articles":[{"title":"People List Starter App","level":"1.10.1","depth":2,"path":"EjsTemplates/PeopleListStarterApp.md","ref":"EjsTemplates/PeopleListStarterApp.md","articles":[]},{"title":"People List EJS Code-Along","level":"1.10.2","depth":2,"path":"EjsTemplates/PeopleListEjsCodeAlong.md","ref":"EjsTemplates/PeopleListEjsCodeAlong.md","articles":[]},{"title":"People List EJS Individual Exercises","level":"1.10.3","depth":2,"path":"EjsTemplates/PeopleListEjsIndividualExercises.md","ref":"EjsTemplates/PeopleListEjsIndividualExercises.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["toggle-chapters"],"pluginsConfig":{"toggle-chapters":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"BOOKREADME.md","glossary":"GLOSSARY.md","summary":"COMPLETESUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"EjsTemplates/PeopleListStarterApp.md","mtime":"2021-06-25T15:33:31.203Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-06-25T15:34:15.619Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-toggle-chapters/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

